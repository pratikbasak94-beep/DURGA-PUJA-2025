<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vishwakarma Puja Wishes</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Jomhuria&family=Work+Sans:wght@400;700&display=swap');
    body {
      margin: 0;
      font-family: 'Work Sans', sans-serif;
      min-height: 100vh;
      background: #faf2e8;
      color: #222;
      overflow-x: hidden;
      transition: background 0.5s, color 0.5s;
    }
    .kite-bg {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 0;
      background: url('https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=800&q=80') center center no-repeat;
      background-size: cover;
      filter: brightness(1.05);
      animation: kiteMove 24s linear infinite;
    }
    @keyframes kiteMove {
      0% { background-position: center 0; }
      50% { background-position: center 40px; }
      100% { background-position: center 0; }
    }
    .kite-anim {
      position: fixed; z-index: 1; pointer-events: none;
      animation: drift 12s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
    }
    @keyframes drift {
      0% {transform: translateY(80vh) scale(1);}
      60% {transform: translateY(20vh) scale(1.16);}
      90% {transform: translateY(-10vh) scale(1);}
      100% {transform: translateY(80vh);}
    }
    .container {
      position: relative;
      z-index: 2;
      max-width: 420px;
      margin: 3rem auto 5rem auto;
      background: rgba(255,255,255,0.95);
      border-radius: 16px;
      padding: 2.5rem 1.7rem 2rem 1.7rem;
      box-shadow: 0 6px 29px rgba(72,72,72,0.12);
      text-align: center;
      display: none;
    }
    h1 {
      font-family: 'Jomhuria', cursive;
      font-size: 2.45rem;
      margin-bottom: 1rem;
      color: #10327c;
      letter-spacing: 1px;
      user-select: none;
    }
    #wish {
      margin-top: 22px;
      font-size: 21px;
      font-weight: 700;
      min-height: 54px;
      user-select: text;
      text-align: center;
      line-height: 1.5;
    }
    .confetti {
      position: fixed;
      width: 10px; height: 10px;
      opacity: 0.93;
      z-index: 99;
      pointer-events: none;
      border-radius: 50%;
      animation: fall 2.3s linear forwards;
    }
    @keyframes fall {
      to { transform: translateY(100vh) rotate(370deg); opacity: 0;}
    }
    footer {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      text-align: center;
      font-weight: bold;
      font-size: 19px;
      color: rgb(255,0,0);
      padding: 10px 0 6px 0;
      background: rgba(0,0,0,0.39);
      font-family: monospace;
      user-select: none;
      letter-spacing: 1px;
      z-index: 100;
    }
    /* Modal styles */
    .modal-back {
      position: fixed; left: 0; top: 0; width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.6); z-index:999;
      display: flex; align-items: center; justify-content: center;
    }
    .modal {
      background: #fff;
      padding: 2rem 1.7rem 1.2rem 1.7rem;
      border-radius: 14px;
      box-shadow: 0 4px 16px rgba(5, 10, 55, 0.17);
      text-align: center;
      min-width: 280px; max-width: 93vw; min-height: 180px;
      z-index:1000;
    }
    .modal input[type="text"] {
      margin-top: 1.2rem;
      padding: 11px 14px;
      font-size: 17px;
      width: 85%;
      border-radius: 8px;
      border: 1.2px solid #dbeefe;
      box-shadow: 0 2px 4px #eaf3ff81;
    }
    .modal button {
      margin-top: 1.2rem;
      padding: 12px 0;
      width: 83%;
      border-radius: 7px;
      background: #0b66c2;
      color: white; font-size: 17px;font-weight:700;border:none;
      cursor:pointer;
      transition: background .23s;
    }
    .modal button:disabled {
      background: #7e9ac4;
      cursor:not-allowed;
    }
    .modal-label{font-size:1.17rem;margin-top:8px;font-weight:600;}
    @media(max-width:580px){.modal{padding:1rem;margin:0;}}
  </style>
</head>
<body>
  <div class="kite-bg"></div>
  <svg class="kite-anim" style="left:7vw;top:0;width:57px;height:57px;animation-delay:1.2s;">
    <polygon points="28,0 56,28 28,56 0,28" fill="#ff7097" stroke="#fff" stroke-width="3"/>
    <line x1="28" y1="56" x2="28" y2="70" stroke="#6dc459" stroke-width="4"/>
  </svg>
  <svg class="kite-anim" style="left:45vw;top:0;width:47px;height:47px;animation-delay:3s;">
    <polygon points="23,0 46,23 23,46 0,23" fill="#42e8e0" stroke="#fff" stroke-width="3"/>
    <line x1="23" y1="46" x2="23" y2="60" stroke="#ffad2c" stroke-width="4"/>
  </svg>
  <svg class="kite-anim" style="left:82vw;top:0;width:42px;height:42px;animation-delay:5.2s;">
    <polygon points="21,0 42,21 21,42 0,21" fill="#ffed5c" stroke="#fff" stroke-width="3"/>
    <line x1="21" y1="42" x2="21" y2="54" stroke="#36bf74" stroke-width="4"/>
  </svg>
  <!-- Modal asks for name -->
  <div class="modal-back" id="modalBack">
    <div class="modal">
      <div class="modal-label">What's your name?</div>
      <input id="modalNameInput" type="text" placeholder="Enter your name" autocomplete="off" />
      <div id="modalFeedback" class="feedback"></div>
      <button id="modalSubmitBtn" disabled>Show My Wish</button>
    </div>
  </div>
  <div class="container" role="main" aria-labelledby="title">
    <h1 id="title">Vishwakarma Puja Wishes âœ¨</h1>
    <div id="wish" aria-live="polite"></div>
  </div>
  <footer>Made by PRATIK</footer>
  <script>
    // Festive wish templates
    const wishes = [
      "wishing you a blessed and prosperous Vishwakarma Puja! May your creativity and craftsmanship bring you success and happiness.",
      "may Lord Vishwakarma bless your hands with skill and your heart with peace this Puja.",
      "sending you prayers for brilliance and success on this divine Vishwakarma Puja day.",
      "may your hard work and talent shine bright with Vishwakarma's blessings.",
      "hope your Vishwakarma Puja is filled with joy, inspiration, and beautiful creations ahead."
    ];
    const modalBack = document.getElementById('modalBack');
    const modalNameInput = document.getElementById('modalNameInput');
    const modalFeedback = document.getElementById('modalFeedback');
    const modalSubmitBtn = document.getElementById('modalSubmitBtn');
    const container = document.querySelector('.container');
    const wishDiv = document.getElementById('wish');
    const audio = new Audio('https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg');
    function validateName(name) {
      return /^[A-Za-z\s]{1,40}$/.test(name.trim());
    }
    function randomInt(max) {
      return Math.floor(Math.random() * max);
    }
    function styleWish(name) {
      const colors = ['#FF6347','#FFD700','#00FA9A','#1E90FF','#FF69B4','#FF8C00','#00CED1','#ff7c2a','#ff32a7'];
      let sum = 0;
      for(let ch of name) sum += ch.charCodeAt(0);
      return colors[sum % colors.length];
    }
    function createConfetti() {
      const confettiCount = 85;
      for(let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = hsl(${Math.random()*360}, 78%, 67%);
        confetti.style.animationDuration = (1.4 + Math.random()*1.3) + 's';
        confetti.style.width = confetti.style.height = (5 + Math.random()*7) + 'px';
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 2300);
      }
    }
    modalNameInput.addEventListener('input', () => {
      const val = modalNameInput.value.trim();
      modalSubmitBtn.disabled = !validateName(val);
      modalFeedback.textContent = val.length === 0 ? "" : (validateName(val) ? "Looks good!" : "Letters and spaces only.");
      modalFeedback.className = 'feedback ' + (validateName(val) ? 'valid' : 'invalid');
    });
    modalSubmitBtn.addEventListener('click', () => {
      // Hide modal, show wishes page + wish immediately
      container.style.display = "";
      modalBack.style.display = "none";
      const name = modalNameInput.value.trim();
      const wishText = wishes[randomInt(wishes.length)];
      const styledColor = styleWish(name);
      wishDiv.textContent = Dear ${name}, ${wishText};
      wishDiv.style.color = styledColor;
      audio.currentTime = 0; audio.play();
      createConfetti();
    });
  </script>
</body>
</html>
